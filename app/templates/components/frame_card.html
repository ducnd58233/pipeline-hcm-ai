<div id="frame-{{ frame.id }}" class="frame-card {% if frame.selected %}selected{% endif %}">
    <div class="frame-image-container">
        {% if frame.keyframe.frame_path %}
        <img src="{{ frame.keyframe.frame_path }}" alt="Frame {{ frame.id }}">
        {% if frame.keyframe.frame_path %}
        <img src="{{ frame.keyframe.frame_path }}" alt="Frame {{ frame.id }}">
        {% else %}
        <div class="placeholder-image">No image available</div>
        {% endif %}
    </div>

    <div class="frame-info">
        <p>Frame ID: {{ frame.keyframe.id }}</p>

        {% if frame.score is defined %}
        <p>Similarity Score: {{ frame.score|round(4) if frame.score is not none else 'N/A' }}</p>
        {% endif %}

        <form hx-post="/toggle_frame" hx-target="#frame-{{ frame.id }}" hx-swap="outerHTML" hx-trigger="change"
            hx-indicator=".htmx-indicator">
            <input type="hidden" name="frame_id" value="{{ frame.id }}">
            <input type="hidden" name="final_score" value="{{ frame.final_score }}">
            <input type="checkbox" name="selected" {% if frame.selected %}checked{% endif %}>
            <div class="htmx-indicator">Loading...</div>
        </form>

        {% if is_selected_section %}
        <button hx-post="/submit_single_frame" hx-vals='{"frame_id": "{{ frame.id }}"}' hx-target="#modal-container"
            hx-swap="innerHTML" hx-indicator=".htmx-indicator" class="submit-button">
            Submit Frame
            <div class="htmx-indicator">Submitting...</div>
        </button>
        {% endif %}
    </div>
</div>