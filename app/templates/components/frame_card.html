<div id="frame-{{ frame.id }}" class="frame-card {% if frame.selected %}selected{% endif %}" _="on htmx:afterSwap wait 10ms then add .htmx-swapping end
        on htmx:afterSettle remove .htmx-swapping">
    <div class="frame-image-container">
        {% if frame.keyframe.frame_path %}
        <img src="{{ frame.keyframe.frame_path }}" alt="Frame {{ frame.id }}">
        {% else %}
        <div class="placeholder-image">No image available</div>
        {% endif %}
    </div>
    <div class="frame-info">
        <h3 class="frame-title">Frame ID: {{ frame.id }}</h3>
        {% if frame.score.value is defined %}
        <p class="frame-description">Similarity Score: {{ frame.score.value|round(4) if frame.score.value is not none
            else 'N/A' }}</p>
        {% endif %}
    </div>
    <div class="frame-actions">
        <div class="toggle-container">
            <input type="checkbox" id="toggle-{{ frame.id }}" name="frame_id" class="toggle-input" {% if frame.selected
                %}checked{% endif %} hx-post="/toggle_frame"
                hx-vals='{"frame_id": "{{ frame.id }}", "score": "{{ frame.score.value|default(0)}}"}' hx-swap="none"
                hx-target="body" />
            <label for="toggle-{{ frame.id }}" class="toggle-slider"></label>
        </div>
        {% if frame.selected %}
        <button class="submit-button" hx-post="/submit_single_frame" hx-include="closest div"
            hx-target="#modal-container">Submit Frame</button>
        {% endif %}
    </div>
    <div class="htmx-indicator">Loading...</div>
</div>
