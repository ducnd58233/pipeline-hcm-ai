<div id="frame-{{ frame.id }}" class="frame-card {% if frame.selected %}selected{% endif %}">
    <div class="frame-image-container">
        {% if frame.keyframe.frame_path %}
        <img src="{{ frame.keyframe.frame_path }}" alt="Frame {{ frame.id }}">
        {% else %}
        <div class="placeholder-image">No image available</div>
        {% endif %}
    </div>

    <div class="frame-info">
        <p>Frame ID: {{ frame.id }}</p>
        {% if frame.score.value is defined %}
        <p>Similarity Score: {{ frame.score.value|round(4) if frame.score.value is not none else 'N/A' }}</p>
        {% endif %}

        <div class="frame-select">
            <input type="checkbox" id="select-{{ frame.id }}" name="select-{{ frame.id }}" {% if frame.selected
                %}checked{% endif %} hx-post="/toggle_frame"
                hx-vals='{"frame_id": "{{ frame.id }}", "score": "{{ frame.score.value|default(0) }}"}' hx-target="body"
                hx-swap="none">
            <label for="select-{{ frame.id }}">Select Frame</label>
        </div>

        {% if frame.selected %}
        <button hx-post="/submit_single_frame" hx-vals='{"frame_id": "{{ frame.id }}"}' hx-target="#modal-container"
            hx-swap="innerHTML">
            Submit Frame
        </button>
        {% endif %}

        <div class="htmx-indicator">Loading...</div>
    </div>
</div>